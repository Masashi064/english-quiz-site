{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/mkawa/myproject/english-quiz-site/lib/firebase.ts"],"sourcesContent":["import { initializeApp } from 'firebase/app'\r\nimport { getFirestore } from 'firebase/firestore'\r\nimport { getAuth } from 'firebase/auth'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n}\r\n\r\nconst app = initializeApp(firebaseConfig)\r\nconst db = getFirestore(app)\r\nconst auth = getAuth(app)\r\n\r\nexport { db, auth }\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAGU;AALV;AACA;AACA;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,MAAM,MAAM,CAAA,GAAA,uLAAA,CAAA,gBAAa,AAAD,EAAE;AAC1B,MAAM,KAAK,CAAA,GAAA,sKAAA,CAAA,eAAY,AAAD,EAAE;AACxB,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/mkawa/myproject/english-quiz-site/context/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\nimport { onAuthStateChanged, User } from 'firebase/auth';\r\nimport { auth } from '@/lib/firebase';\r\n\r\nconst AuthContext = createContext<{ user: User | null, loading: boolean }>({\r\n  user: null,\r\n  loading: true,\r\n});\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (firebaseUser) => {\r\n      setUser(firebaseUser);\r\n      setLoading(false);\r\n    });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, loading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AADA;;;AAHA;;;;AAMA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA2C;IACzE,MAAM;IACN,SAAS;AACX;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,cAAc,CAAA,GAAA,wNAAA,CAAA,qBAAkB,AAAD,EAAE,kHAAA,CAAA,OAAI;sDAAE,CAAC;oBAC5C,QAAQ;oBACR,WAAW;gBACb;;YACA;0CAAO,IAAM;;QACf;iCAAG,EAAE;IAEL,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAC1C;;;;;;AAGP;GAjBa;KAAA;AAmBN,MAAM,UAAU;;IAAM,OAAA,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AAAW;IAAtC"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/mkawa/myproject/english-quiz-site/context/ThemeContext.tsx"],"sourcesContent":["'use client';\r\nimport { createContext, useContext, useEffect, useState } from 'react';\r\n\r\ntype Theme = 'light' | 'dark';\r\ntype ThemeContextType = {\r\n  theme: Theme;\r\n  toggleTheme: () => void;\r\n};\r\n\r\nconst ThemeContext = createContext<ThemeContextType>({\r\n  theme: 'light',\r\n  toggleTheme: () => {},\r\n});\r\n\r\nexport const ThemeProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const [theme, setTheme] = useState<Theme>('light');\r\n\r\n  useEffect(() => {\r\n    const storedTheme = localStorage.getItem('theme') as Theme | null;\r\n    if (storedTheme) {\r\n      setTheme(storedTheme);\r\n      document.documentElement.classList.toggle('dark', storedTheme === 'dark');\r\n    }\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newTheme = theme === 'light' ? 'dark' : 'light';\r\n    setTheme(newTheme);\r\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\r\n    localStorage.setItem('theme', newTheme);\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTheme = () => useContext(ThemeContext);\r\n"],"names":[],"mappings":";;;;;AACA;;;AADA;;AASA,MAAM,6BAAe,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAoB;IACnD,OAAO;IACP,aAAa,KAAO;AACtB;AAEO,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAiC;;IACvE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS;IAE1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,MAAM,cAAc,aAAa,OAAO,CAAC;YACzC,IAAI,aAAa;gBACf,SAAS;gBACT,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,gBAAgB;YACpE;QACF;kCAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,WAAW,UAAU,UAAU,SAAS;QAC9C,SAAS;QACT,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,aAAa;QAC/D,aAAa,OAAO,CAAC,SAAS;IAChC;IAEA,qBACE,6LAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAChD;;;;;;AAGP;GAvBa;KAAA;AAyBN,MAAM,WAAW;;IAAM,OAAA,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AAAY;IAAxC"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/mkawa/myproject/english-quiz-site/app/components/SiteHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { signOut } from 'firebase/auth';\r\nimport { auth } from '@/lib/firebase';\r\nimport { useRouter } from 'next/navigation';\r\nimport Image from 'next/image';\r\nimport { doc, getDoc } from 'firebase/firestore'\r\nimport { db } from '@/lib/firebase'\r\nimport { useEffect, useState } from 'react'\r\n\r\n\r\nexport default function SiteHeader() {\r\n  const { user, loading } = useAuth();\r\n  const router = useRouter();\r\n  const [nickname, setNickname] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchNickname = async () => {\r\n      if (!user) return;\r\n      const userRef = doc(db, 'users', user.uid);\r\n      const snap = await getDoc(userRef);\r\n      if (snap.exists()) {\r\n        const data = snap.data();\r\n        setNickname(data.nickname || '');\r\n      }\r\n    };\r\n\r\n    fetchNickname();\r\n  }, [user]);\r\n\r\n  const handleSignOut = async () => {\r\n    await signOut(auth);\r\n    router.push('/signup');\r\n  };\r\n\r\n  return (\r\n    <header className=\"flex justify-between items-center px-4 py-2 border-b border-gray-700\">\r\n      <Link href=\"/\" className=\"flex items-center\">\r\n        <Image\r\n          src=\"/img/logo-dark.png\"\r\n          alt=\"SABACAN\"\r\n          width={140}\r\n          height={60}\r\n          className=\"h-8 w-auto object-contain cursor-pointer dark:block hidden\"\r\n          priority\r\n        />\r\n        <Image\r\n          src=\"/img/logo-light.png\"\r\n          alt=\"SABACAN\"\r\n          width={140}\r\n          height={60}\r\n          className=\"h-8 w-auto object-contain cursor-pointer dark:hidden block\"\r\n          priority\r\n        />\r\n      </Link>\r\n\r\n      {!loading && (\r\n        <div className=\"flex gap-4 items-center text-sm\">\r\n          {user ? (\r\n            <>\r\n              <p>Hi, {nickname || 'user'}</p>\r\n              <Link href=\"/account\">Account</Link>\r\n              <button onClick={handleSignOut}>Sign out</button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Link href=\"/login\">Log in</Link>\r\n              <Link href=\"/signup\">Sign up</Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAFA;AAJA;;;AAJA;;;;;;;;;;AAae,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD;IAChC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,MAAM;sDAAgB;oBACpB,IAAI,CAAC,MAAM;oBACX,MAAM,UAAU,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,kHAAA,CAAA,KAAE,EAAE,SAAS,KAAK,GAAG;oBACzC,MAAM,OAAO,MAAM,CAAA,GAAA,sKAAA,CAAA,SAAM,AAAD,EAAE;oBAC1B,IAAI,KAAK,MAAM,IAAI;wBACjB,MAAM,OAAO,KAAK,IAAI;wBACtB,YAAY,KAAK,QAAQ,IAAI;oBAC/B;gBACF;;YAEA;QACF;+BAAG;QAAC;KAAK;IAET,MAAM,gBAAgB;QACpB,MAAM,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE,kHAAA,CAAA,OAAI;QAClB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC,+JAAA,CAAA,UAAI;gBAAC,MAAK;gBAAI,WAAU;;kCACvB,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAI;wBACJ,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU;wBACV,QAAQ;;;;;;kCAEV,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAI;wBACJ,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU;wBACV,QAAQ;;;;;;;;;;;;YAIX,CAAC,yBACA,6LAAC;gBAAI,WAAU;0BACZ,qBACC;;sCACE,6LAAC;;gCAAE;gCAAK,YAAY;;;;;;;sCACpB,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;sCAAW;;;;;;sCACtB,6LAAC;4BAAO,SAAS;sCAAe;;;;;;;iDAGlC;;sCACE,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;sCAAS;;;;;;sCACpB,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;sCAAU;;;;;;;;;;;;;;;;;;;AAOnC;GA/DwB;;QACI,0HAAA,CAAA,UAAO;QAClB,qIAAA,CAAA,YAAS;;;KAFF"}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}